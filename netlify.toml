# Configurazione deploy Netlify per TanStack Start
# https://docs.netlify.com/build/frameworks/framework-setup-guides/tanstack-start

[build]
  command = "pnpm run build"
  publish = "dist/client"

[build.environment]
  NODE_VERSION = "24"
  # Variabili VITE_ sono inlined nel bundle client da Vite (comportamento atteso).
  # Escludiamole dallo scan segreti per evitare falsi positivi.
  SECRETS_SCAN_OMIT_KEYS = "VITE_NEON_AUTH_URL,VITE_IMAGE_PREFIX_PATH"
